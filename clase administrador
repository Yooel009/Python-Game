import pygame
import sys

class Administrador:

    def __init__(self):
        self.pantalla = pygame.display.set_mode((800, 600))
        pygame.display.set_caption("Geo Wars")
        self.escena = None
        self.fullscreen = False
        self.salir_juego = False
        self.relog = pygame.time.Clock()

    def loop(self):
        "Pone en funcionamiento el juego."

        while not self.salir_juego:
            time = self.relog.tick(60)
            
            # Eventos de Salida
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    self.salir()
                if event.type == pygame.KEYDOWN:
                    if event.key == pygame.K_ESCAPE:
					    self.salir()

            # detecta eventos
            self.escena.on_event()

            # actualiza la escena
            self.escena.on_update()

            # dibuja la pantalla
            self.escena.on_draw(self.pantalla)
            pygame.display.flip()

    def change_scene(self, escena):
        "Altera la escena actual."
        self.escena = escena

    def salir(self):
        self.salir_juego = True
